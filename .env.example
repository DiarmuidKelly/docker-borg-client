# Borg Repository Configuration
# Required: SSH URL to your Borg repository
BORG_REPO=ssh://user@backup-server.example.com:22/~/backups/my-backup

# Required: Repository encryption passphrase
# IMPORTANT: Keep this secure! Without it, you cannot restore your backups.
BORG_PASSPHRASE=your-strong-passphrase-here

# Required: Colon-separated paths to backup (container paths)
# These correspond to the mounted volumes in docker-compose.yml
BACKUP_PATHS=/data/backup1

# Optional: Source directories on host to backup
BACKUP_SOURCE_1=/path/to/your/data
# BACKUP_SOURCE_2=/path/to/more/data

# Optional: Cron schedule for backups (default: Sunday at 2am)
# Format: minute hour day-of-month month day-of-week
# Examples:
#   0 2 * * 0     - Every Sunday at 2am (default)
#   0 3 * * *     - Every day at 3am
#   0 2 * * 1-5   - Weekdays at 2am
#   0 */6 * * *   - Every 6 hours
CRON_SCHEDULE=0 2 * * 0

# Optional: Run backup immediately on container start (default: false)
RUN_ON_START=false

# Optional: Prune retention policy (default values shown)
PRUNE_KEEP_DAILY=7
PRUNE_KEEP_WEEKLY=4
PRUNE_KEEP_MONTHLY=6

# Optional: Timezone for cron jobs (default: UTC)
TZ=Europe/London

# =============================================================================
# TrueNAS Notifications (Optional)
# =============================================================================

# Enable TrueNAS API notifications (default: false)
NOTIFY_TRUENAS_ENABLED=false

# TrueNAS API URL (use your TrueNAS IP address, not localhost)
# Examples:
#   - HTTP:  http://192.168.1.100/api/v2.0
#   - HTTPS: https://192.168.1.100/api/v2.0
NOTIFY_TRUENAS_API_URL=http://192.168.1.100/api/v2.0

# TrueNAS API Key (generate in TrueNAS web UI: Settings -> API Keys)
NOTIFY_TRUENAS_API_KEY=1-abc123yourapikey

# SSL certificate verification (set to false for self-signed certificates)
# Default: true
NOTIFY_TRUENAS_VERIFY_SSL=false

# Which events to notify about (comma-separated list)
# Available events: backup.success, backup.failure, prune.success, prune.failure
# Default: backup.failure,prune.failure (failures only)
NOTIFY_EVENTS=backup.failure,backup.success
